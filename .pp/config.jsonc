{
  "$schema": "../resources/schema.json",
  "settings": {
    "aiProvider": "claude",
    "promptSelection": {
      "fileStyle": "flat",
      "folderStyle": "interactive",
      "excludes": ["node_modules/**", ".git/**", "dist/**", "out/**", ".pp/**", ".changeset/**", ".ignore/**", ".github/**", ".husky/**", "dist-dev/**", ".tscanner/**", ".vscode/**"]
    },
    "excludedDirs": []
  },
  "variables": [
    // Environment group
    {
      "name": "environment",
      "kind": "choose",
      "options": ["local", "local-staging", "local-prod", "staging", "prod"],
      "command": "bash scripts/environment-select.sh",
      "description": "Select the target environment",
      "default": "local",
      "group": "Environment"
    },
    {
      "name": "debug",
      "kind": "toggle",
      "command": "bash scripts/toggle-debug.sh",
      "description": "Enable or disable debug mode",
      "default": false,
      "group": "Environment"
    },

    // API group
    {
      "name": "api-url",
      "kind": "input",
      "command": "bash scripts/set-api-url.sh",
      "description": "Set the API base URL",
      "group": "API"
    },
    {
      "name": "features",
      "kind": "multi-select",
      "options": ["auth", "analytics", "notifications", "dark-mode"],
      "command": "bash scripts/set-features.sh",
      "description": "Enable feature flags",
      "default": ["auth"],
      "group": "API"
    },

    // Paths (ungrouped)
    {
      "name": "config-file",
      "kind": "file",
      "description": "Select a configuration file"
    },
    {
      "name": "output-dir",
      "kind": "folder",
      "description": "Select output directory"
    },
    {
      "name": "multiple-files",
      "kind": "file",
      "multiSelect": true,
      "description": "Select multiple files"
    },
    {
      "name": "multiple-folders",
      "kind": "folder",
      "multiSelect": true,
      "description": "Select multiple folders"
    }
  ],

  "replacements": [
    // Example: patch replacement (multiline)
    {
      "name": "enable-debug-logs",
      "type": "patch",
      "description": "Enable debug logging in hello1 view",
      "target": "src/extension.ts",
      "onBranchChange": "revert",
      "patches": [
        {
          "search": "void vscode.tasks.fetchTasks();",
          "replace": "// DEBUG ENABLED\n  void vscode.tasks.fetchTasks();"
        }
      ],
      "group": "Debug"
    }
  ],

  "tasks": [
    {
      "name": "hello",
      "command": "echo 'Hello from PP!' && echo $DEBUG",
      "description": "Test task - prints hello"
    },
    {
      "name": "list-files",
      "command": "ls -la",
      "group": "Utils"
    },
    {
      "name": "show-date",
      "command": "date",
      "group": "Utils"
    }
  ],

  "tools": [
    {
      "name": "linear",
      "command": "linear",
      "group": "Quality"
    },
    {
      "name": "github-cli",
      "command": "gh",
      "group": "Quality"
    },
    {
        "name": "chrome-cmd",
        "command": "chrome-cmd"
    }
  ],

  "prompts": [
    {
      "name": "Review Code",
      "file": "prompts/review-code.md",
      "description": "Review files for issues and improvements",
      "group": "Analysis",
      "saveOutput": true,
      "inputs": [
        { "name": "files", "type": "file", "multiSelect": true, "label": "Select files to review" },
        {
          "name": "focus",
          "type": "multichoice",
          "label": "Review focus areas",
          "options": ["bugs", "performance", "security", "code-quality", "architecture"]
        }
      ]
    },
    {
      "name": "Explain Code",
      "file": "prompts/explain-code.md",
      "description": "Explain code in detail",
      "group": "Analysis",
      "saveOutput": true,
      "inputs": [
        { "name": "target", "type": "folder", "label": "Select folder to explain" },
        {
          "name": "depth",
          "type": "choice",
          "label": "Explanation depth",
          "options": ["overview", "detailed", "comprehensive"]
        }
      ]
    },
    {
      "name": "Add Tests",
      "file": "prompts/add-tests.md",
      "description": "Generate tests for file(s)",
      "group": "Generate",
      "saveOutput": true,
      "inputs": [
        { "name": "file", "type": "file", "label": "Select file to test" },
        { "name": "testCount", "type": "number", "label": "Number of test cases", "placeholder": "5" },
        { "name": "includeEdgeCases", "type": "confirm", "label": "Include edge cases?" },
        {
          "name": "testStyle",
          "type": "choice",
          "label": "Test style",
          "options": ["unit", "integration", "e2e"]
        }
      ]
    },
    {
      "name": "Explain Flow",
      "file": "prompts/explain-flow.md",
      "description": "Explain execution flow with ASCII diagrams",
      "group": "Analysis",
      "saveOutput": true,
      "inputs": [
        { "name": "target", "type": "file", "label": "Target to analyze (file path, folder, function name, etc)" }
      ]
    }
  ]
}
